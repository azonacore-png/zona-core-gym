(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[349],{6590:function(e,r,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/finanzas",function(){return n(626)}])},9830:function(e,r,n){"use strict";n.d(r,{Z:function(){return l}});var a=n(5893),s=n(6884),t=n(7294);function l(){let[e,r]=(0,t.useState)([]),[n,l]=(0,t.useState)({type:"Ingreso",category:"",amount:0,description:""}),i=()=>s.O.from("financial_transactions").select("*").order("created_at",{ascending:!1}).then(e=>r(e.data||[]));(0,t.useEffect)(()=>{i()},[]);let o=async()=>{if(!n.category||n.amount<=0){alert("Por favor, completa los campos obligatorios.");return}await s.O.from("financial_transactions").insert([n]),l({type:"Ingreso",category:"",amount:0,description:""}),i()};return(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,a.jsx)("h2",{className:"text-xl font-bold text-gray-700 mb-4",children:"Gesti\xf3n Financiera"}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg mb-6 space-y-3",children:[(0,a.jsxs)("select",{className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-[#FF7A3C] focus:border-transparent",value:n.type,onChange:e=>l({...n,type:e.target.value}),children:[(0,a.jsx)("option",{value:"Ingreso",children:"Ingreso"}),(0,a.jsx)("option",{value:"Egreso",children:"Egreso"})]}),(0,a.jsx)("input",{className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-[#FF7A3C] focus:border-transparent",placeholder:"Categor\xeda",value:n.category,onChange:e=>l({...n,category:e.target.value})}),(0,a.jsx)("input",{className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-[#FF7A3C] focus:border-transparent",type:"number",placeholder:"Monto",value:n.amount,onChange:e=>l({...n,amount:Number(e.target.value)})}),(0,a.jsx)("input",{className:"w-full p-2 border rounded-lg focus:ring-2 focus:ring-[#FF7A3C] focus:border-transparent",placeholder:"Descripci\xf3n",value:n.description,onChange:e=>l({...n,description:e.target.value})}),(0,a.jsx)("button",{onClick:o,className:"w-full bg-[#FF7A3C] text-white p-2 rounded-lg hover:bg-[#e66a2b] transition-colors",children:"Guardar"})]}),(0,a.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,a.jsx)("h3",{className:"font-medium text-gray-700 mb-3",children:"Transacciones recientes"}),(0,a.jsx)("ul",{className:"divide-y divide-gray-200",children:e.map(e=>(0,a.jsxs)("li",{className:"py-3 flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:e.category}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:e.description})]}),(0,a.jsxs)("span",{className:"font-medium ".concat("Ingreso"===e.type?"text-green-600":"text-red-600"),children:["Ingreso"===e.type?"+":"-","$",e.amount]})]},e.id))})]})]})}},4820:function(e,r,n){"use strict";n.d(r,{Z:function(){return c}});var a=n(5893),s=n(1664),t=n.n(s),l=n(5069),i=n(6884),o=n(1163);function c(e){let{children:r}=e,n=(0,l.a)(),s=(0,l.q)(null==n?void 0:n.email),c=(0,o.useRouter)();if(!n||"loading"===s)return(0,a.jsx)("div",{className:"p-4 text-center",children:"Cargando..."});let u={admin:[{label:"Dashboard",href:"/admin/"},{label:"Clientes",href:"/admin/clientes/"},{label:"Instructores",href:"/admin/instructores/"},{label:"Finanzas",href:"/admin/finanzas/"},{label:"Clases",href:"/admin/clases/"},{label:"Ejercicios",href:"/admin/ejercicios/"},{label:"Progresos",href:"/admin/progresos/"},{label:"Reportes",href:"/admin/reportes/"},{label:"Configuraci\xf3n",href:"/admin/configuracion/"},{label:"Crear Usuarios",href:"/admin/usuarios/"},{label:"Mi Perfil",href:"/admin/perfil/"}],instructor:[{label:"Mis Clases",href:"/instructor/"},{label:"Mi Perfil",href:"/instructor/perfil/"}],client:[{label:"Mi Progreso",href:"/user/"},{label:"Reservar Clase",href:"/user/reservar/"},{label:"Mi Perfil",href:"/user/perfil/"}]},d=u[s]||u.client,f=async()=>{await i.O.auth.signOut(),window.location.href="/zona-core-gym/login/"};return(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50 flex",children:[(0,a.jsxs)("aside",{className:"w-64 bg-[#2A5B8A] text-white p-4 flex flex-col",children:[(0,a.jsx)("h1",{className:"text-xl font-bold mb-8",children:"ZONA CORE"}),(0,a.jsx)("nav",{className:"space-y-2 flex-1",children:d.map(e=>(0,a.jsx)(t(),{href:e.href,className:"block px-3 py-2 rounded-lg hover:bg-[#1E4A6E] transition-colors ".concat(c.pathname===e.href?"bg-[#1E4A6E]":""),children:e.label},e.href))}),(0,a.jsx)("button",{onClick:f,className:"mt-4 px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors w-full",children:"Cerrar sesi\xf3n"})]}),(0,a.jsx)("main",{className:"flex-1 p-6",children:r})]})}},5069:function(e,r,n){"use strict";n.d(r,{a:function(){return t},q:function(){return l}});var a=n(7294),s=n(6884);function t(){let[e,r]=(0,a.useState)(null);return(0,a.useEffect)(()=>{s.O.auth.getUser().then(e=>{let{data:n}=e;return r(n.user)});let{data:e}=s.O.auth.onAuthStateChange((e,n)=>{var a;return r(null!==(a=null==n?void 0:n.user)&&void 0!==a?a:null)});return()=>e.subscription.unsubscribe()},[]),e}function l(e){let[r,n]=(0,a.useState)("loading");return(0,a.useEffect)(()=>{e&&s.O.from("users").select("role").eq("email",e).single().then(e=>{let{data:r}=e;n((null==r?void 0:r.role)||"client")})},[e]),r}},626:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return l}});var a=n(5893),s=n(4820),t=n(9830);function l(){return(0,a.jsx)(s.Z,{children:(0,a.jsx)("div",{className:"max-w-7xl mx-auto p-6",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-[#2A5B8A] mb-6",children:"Gesti\xf3n Financiera"}),(0,a.jsx)(t.Z,{})]})})})}}},function(e){e.O(0,[664,888,774,179],function(){return e(e.s=6590)}),_N_E=e.O()}]);