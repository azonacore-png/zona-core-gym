(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[338],{4272:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/clientes",function(){return r(3401)}])},4820:function(e,n,r){"use strict";r.d(n,{Z:function(){return c}});var l=r(5893),s=r(1664),i=r.n(s),t=r(5069),a=r(6884),o=r(1163);function c(e){let{children:n}=e,r=(0,t.a)(),s=(0,t.q)(null==r?void 0:r.email),c=(0,o.useRouter)();if(!r||"loading"===s)return(0,l.jsx)("div",{className:"p-4 text-center",children:"Cargando..."});let d={admin:[{label:"Dashboard",href:"/admin/"},{label:"Clientes",href:"/admin/clientes/"},{label:"Instructores",href:"/admin/instructores/"},{label:"Finanzas",href:"/admin/finanzas/"},{label:"Clases",href:"/admin/clases/"},{label:"Ejercicios",href:"/admin/ejercicios/"},{label:"Progresos",href:"/admin/progresos/"},{label:"Reportes",href:"/admin/reportes/"},{label:"Configuraci\xf3n",href:"/admin/configuracion/"},{label:"Crear Usuarios",href:"/admin/usuarios/"},{label:"Mi Perfil",href:"/admin/perfil/"}],instructor:[{label:"Mis Clases",href:"/instructor/"},{label:"Mi Perfil",href:"/instructor/perfil/"}],client:[{label:"Mi Progreso",href:"/user/"},{label:"Reservar Clase",href:"/user/reservar/"},{label:"Mi Perfil",href:"/user/perfil/"}]},u=d[s]||d.client,f=async()=>{await a.O.auth.signOut(),window.location.href="/zona-core-gym/login/"};return(0,l.jsxs)("div",{className:"min-h-screen bg-gray-50 flex",children:[(0,l.jsxs)("aside",{className:"w-64 bg-[#2A5B8A] text-white p-4 flex flex-col",children:[(0,l.jsx)("h1",{className:"text-xl font-bold mb-8",children:"ZONA CORE"}),(0,l.jsx)("nav",{className:"space-y-2 flex-1",children:u.map(e=>(0,l.jsx)(i(),{href:e.href,className:"block px-3 py-2 rounded-lg hover:bg-[#1E4A6E] transition-colors ".concat(c.pathname===e.href?"bg-[#1E4A6E]":""),children:e.label},e.href))}),(0,l.jsx)("button",{onClick:f,className:"mt-4 px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors w-full",children:"Cerrar sesi\xf3n"})]}),(0,l.jsx)("main",{className:"flex-1 p-6",children:n})]})}},5069:function(e,n,r){"use strict";r.d(n,{a:function(){return i},q:function(){return t}});var l=r(7294),s=r(6884);function i(){let[e,n]=(0,l.useState)(null);return(0,l.useEffect)(()=>{s.O.auth.getUser().then(e=>{let{data:r}=e;return n(r.user)});let{data:e}=s.O.auth.onAuthStateChange((e,r)=>{var l;return n(null!==(l=null==r?void 0:r.user)&&void 0!==l?l:null)});return()=>e.subscription.unsubscribe()},[]),e}function t(e){let[n,r]=(0,l.useState)("loading");return(0,l.useEffect)(()=>{e&&s.O.from("users").select("role").eq("email",e).single().then(e=>{let{data:n}=e;r((null==n?void 0:n.role)||"client")})},[e]),n}},3401:function(e,n,r){"use strict";r.r(n),r.d(n,{default:function(){return a}});var l=r(5893),s=r(4820),i=r(7294),t=r(6884);function a(){let[e,n]=(0,i.useState)([]);return(0,i.useEffect)(()=>{t.O.from("users").select("*").eq("role","client").then(e=>{let{data:r}=e;return n(r||[])})},[]),(0,l.jsx)(s.Z,{children:(0,l.jsx)("div",{className:"max-w-7xl mx-auto p-6",children:(0,l.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6",children:[(0,l.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold text-[#2A5B8A]",children:"Clientes"}),(0,l.jsxs)("button",{onClick:()=>window.location.href="/zona-core-gym/admin/usuarios/",className:"bg-[#FF7A3C] text-white px-4 py-2 rounded-lg hover:bg-[#e66a2b] transition",children:[(0,l.jsx)("i",{className:"fas fa-plus mr-2"}),"Nuevo Cliente"]})]}),(0,l.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map(e=>{var n;return(0,l.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-lg transition cursor-pointer",onClick:()=>window.location.href="/zona-core-gym/admin/clientes/".concat(e.id,"/"),children:[(0,l.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,l.jsx)("div",{className:"w-12 h-12 bg-blue-500 rounded-full flex items-center justify-center text-white font-bold",children:null===(n=e.full_name)||void 0===n?void 0:n.split(" ").map(e=>e[0]).join("")}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"font-semibold text-gray-800",children:e.full_name}),(0,l.jsx)("p",{className:"text-sm text-gray-600",children:e.email}),(0,l.jsx)("p",{className:"text-sm text-gray-500",children:e.phone})]})]}),(0,l.jsxs)("div",{className:"mt-4 flex justify-end space-x-2",children:[(0,l.jsx)("button",{onClick:n=>{n.stopPropagation(),window.location.href="/zona-core-gym/admin/clientes/".concat(e.id,"/")},className:"text-blue-600 hover:underline text-sm",children:"Ver"}),(0,l.jsx)("button",{onClick:n=>{n.stopPropagation(),window.location.href="/zona-core-gym/admin/clientes/".concat(e.id,"/editar/")},className:"text-green-600 hover:underline text-sm",children:"Editar"}),(0,l.jsx)("button",{onClick:async n=>{n.stopPropagation(),confirm("\xbfEliminar a ".concat(e.full_name,"?"))&&(await t.O.from("users").delete().eq("id",e.id),window.location.reload())},className:"text-red-600 hover:underline text-sm",children:"Eliminar"})]})]},e.id)})})]})})})}}},function(e){e.O(0,[664,888,774,179],function(){return e(e.s=4272)}),_N_E=e.O()}]);