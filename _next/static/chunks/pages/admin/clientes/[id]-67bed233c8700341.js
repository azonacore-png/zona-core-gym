(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[521],{6322:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/clientes/[id]",function(){return s(3162)}])},4820:function(e,n,s){"use strict";s.d(n,{Z:function(){return o}});var r=s(5893),i=s(1664),l=s.n(i),t=s(5069),a=s(6884),c=s(1163);function o(e){let{children:n}=e,s=(0,t.a)(),i=(0,t.q)(null==s?void 0:s.email),o=(0,c.useRouter)();if(!s||"loading"===i)return(0,r.jsx)("div",{className:"p-4 text-center",children:"Cargando..."});let d={admin:[{label:"Dashboard",href:"/admin/"},{label:"Clientes",href:"/admin/clientes/"},{label:"Instructores",href:"/admin/instructores/"},{label:"Finanzas",href:"/admin/finanzas/"},{label:"Clases",href:"/admin/clases/"},{label:"Ejercicios",href:"/admin/ejercicios/"},{label:"Progresos",href:"/admin/progresos/"},{label:"Reportes",href:"/admin/reportes/"},{label:"Configuraci\xf3n",href:"/admin/configuracion/"},{label:"Crear Usuarios",href:"/admin/usuarios/"},{label:"Mi Perfil",href:"/admin/perfil/"}],instructor:[{label:"Mis Clases",href:"/instructor/"},{label:"Mi Perfil",href:"/instructor/perfil/"}],client:[{label:"Mi Progreso",href:"/user/"},{label:"Reservar Clase",href:"/user/reservar/"},{label:"Mi Perfil",href:"/user/perfil/"}]},h=d[i]||d.client,u=async()=>{await a.O.auth.signOut(),window.location.href="/zona-core-gym/login/"};return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50 flex",children:[(0,r.jsxs)("aside",{className:"w-64 bg-[#2A5B8A] text-white p-4 flex flex-col",children:[(0,r.jsx)("h1",{className:"text-xl font-bold mb-8",children:"ZONA CORE"}),(0,r.jsx)("nav",{className:"space-y-2 flex-1",children:h.map(e=>(0,r.jsx)(l(),{href:e.href,className:"block px-3 py-2 rounded-lg hover:bg-[#1E4A6E] transition-colors ".concat(o.pathname===e.href?"bg-[#1E4A6E]":""),children:e.label},e.href))}),(0,r.jsx)("button",{onClick:u,className:"mt-4 px-3 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors w-full",children:"Cerrar sesi\xf3n"})]}),(0,r.jsx)("main",{className:"flex-1 p-6",children:n})]})}},5069:function(e,n,s){"use strict";s.d(n,{a:function(){return l},q:function(){return t}});var r=s(7294),i=s(6884);function l(){let[e,n]=(0,r.useState)(null);return(0,r.useEffect)(()=>{i.O.auth.getUser().then(e=>{let{data:s}=e;return n(s.user)});let{data:e}=i.O.auth.onAuthStateChange((e,s)=>{var r;return n(null!==(r=null==s?void 0:s.user)&&void 0!==r?r:null)});return()=>e.subscription.unsubscribe()},[]),e}function t(e){let[n,s]=(0,r.useState)("loading");return(0,r.useEffect)(()=>{e&&i.O.from("users").select("role").eq("email",e).single().then(e=>{let{data:n}=e;s((null==n?void 0:n.role)||"client")})},[e]),n}},3162:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return c}});var r=s(5893),i=s(4820),l=s(1163),t=s(7294),a=s(6884);function c(){let e=(0,l.useRouter)(),{id:n}=e.query,[s,c]=(0,t.useState)(null);return((0,t.useEffect)(()=>{n&&a.O.from("users").select("*").eq("id",n).single().then(e=>{let{data:n}=e;return c(n)})},[n]),s)?(0,r.jsx)(i.Z,{children:(0,r.jsx)("div",{className:"max-w-4xl mx-auto p-6",children:(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("h2",{className:"text-2xl font-bold text-[#2A5B8A]",children:["Cliente: ",s.full_name]}),(0,r.jsxs)("div",{className:"space-x-2",children:[(0,r.jsx)("button",{onClick:()=>e.push("/admin/clientes/".concat(n,"/editar/")),className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition",children:"Editar"}),(0,r.jsx)("button",{onClick:async()=>{confirm("\xbfEliminar cliente?")&&(await a.O.from("users").delete().eq("id",n),e.push("/admin/clientes/"))},className:"bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 transition",children:"Eliminar"})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-800 mb-2",children:"Informaci\xf3n"}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Email:"})," ",s.email]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Tel\xe9fono:"})," ",s.phone]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Fecha de nacimiento:"})," ",s.birth_date]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Sexo:"})," ",s.sex]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"C\xe9dula:"})," ",s.id_number]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"font-semibold text-gray-800 mb-2",children:"Membres\xeda"}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Tipo:"})," ",s.membership_type||"Sin definir"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Estado:"})," ",s.status||"Activo"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Fecha de ingreso:"})," ",new Date(s.created_at).toLocaleDateString()]})]})]}),(0,r.jsxs)("div",{className:"mt-8",children:[(0,r.jsx)("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Informaci\xf3n adicional"}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Contacto de emergencia:"})," ",s.emergency_name," â€“ ",s.emergency_phone]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Alergias:"})," ",s.allergies||"Ninguna"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"Condiciones m\xe9dicas:"})," ",s.medical_conditions||"Ninguna"]}),(0,r.jsxs)("p",{children:[(0,r.jsx)("strong",{children:"\xbfHa hecho ejercicio antes?"})," ",s.has_experience?"S\xed":"No"]})]})]})})}):(0,r.jsx)("div",{className:"p-6",children:"Cargando..."})}}},function(e){e.O(0,[664,888,774,179],function(){return e(e.s=6322)}),_N_E=e.O()}]);